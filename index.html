<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Portal de Seguridad</title>
<style>
  :root{
    --bg:#0b1220; --card:#0f172a; --text:#e5e7eb; --muted:#94a3b8; --border:#223146;
    --brand:#2563eb; --danger:#dc2626; --warn:#f59e0b;
  }
  *{box-sizing:border-box}
  body{
    margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center; padding:22px;
    background: radial-gradient(900px 600px at 20% 0%, rgba(37,99,235,.18), transparent 60%), var(--bg);
    font-family: system-ui, "Segoe UI", Arial, sans-serif; color:var(--text);
  }
  .card{
    width:min(820px,96vw); background:var(--card); border:1px solid var(--border);
    border-radius:18px; box-shadow:0 30px 90px rgba(0,0,0,.45); overflow:hidden;
  }
  .top{padding:18px 20px; border-bottom:1px solid var(--border); display:flex; justify-content:space-between}
  .brand{display:flex; gap:12px; align-items:center}
  .logo{width:38px;height:38px;border-radius:12px;background:linear-gradient(135deg,#2563eb,#1d4ed8)}
  .chip{padding:6px 10px;border-radius:999px;border:1px solid rgba(37,99,235,.25);background:rgba(37,99,235,.12);font-weight:900;font-size:12px}
  .c{padding:20px}
  h1{margin:0 0 8px 0;font-size:22px}
  p{margin:8px 0;color:var(--muted);line-height:1.6}
  .row{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end}
  .btn{border:0;border-radius:12px;padding:11px 13px;cursor:pointer;font-weight:900}
  .go{background:linear-gradient(180deg,#2563eb,#1d4ed8);color:#fff}
  .ghost{background:transparent;border:1px solid var(--border);color:#fff}

  /* Lockdown visual */
  .lock{
    position:fixed; inset:0; display:none; align-items:center; justify-content:center;
    background:rgba(2,6,23,.86); z-index:9999; padding:18px;
  }
  .panel{
    width:min(860px,96vw); background:var(--card); border:1px solid var(--border);
    border-radius:18px; box-shadow:0 30px 90px rgba(0,0,0,.55); overflow:hidden;
  }
  .panelTop{
    padding:16px 18px; border-bottom:1px solid var(--border);
    display:flex; justify-content:space-between; align-items:center;
    background:linear-gradient(180deg, rgba(220,38,38,.18), transparent);
  }
  .sev{display:inline-flex;gap:8px;align-items:center;font-weight:900;font-size:12px;color:#fecaca}
  .dot{width:8px;height:8px;border-radius:99px;background:var(--danger);box-shadow:0 0 0 3px rgba(220,38,38,.2)}
  .x{width:38px;height:38px;border-radius:12px;border:1px solid var(--border);background:transparent;color:#fff;font-weight:900;cursor:pointer}
  .panelBody{padding:18px}
  .big{font-size:26px;font-weight:900;margin:6px 0}
  .small{color:var(--muted);font-size:13px;line-height:1.55}
  .bar{height:10px;border-radius:999px;overflow:hidden;background:rgba(148,163,184,.18);margin:12px 0}
  .fill{height:100%;width:0%;background:linear-gradient(90deg,#2563eb,#f59e0b,#dc2626);transition:width .18s}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
  @media(max-width:640px){.grid{grid-template-columns:1fr}}
  .box{border:1px solid var(--border);border-radius:14px;padding:12px;background:rgba(148,163,184,.06)}
  .k{font-size:12px;color:var(--muted)}
  .v{margin-top:6px;font-size:13.5px}

  /* Toasts */
  .toasts{position:fixed; right:14px; bottom:14px; display:grid; gap:10px; z-index:10000}
  .toast{
    width:min(360px,92vw); background:#0b1220; color:#fff;
    border:1px solid var(--border); border-radius:14px; padding:12px;
    box-shadow:0 18px 50px rgba(0,0,0,.55);
    animation: slide .25s ease;
  }
  .toast b{font-size:13px}
  .toast p{margin:6px 0 0 0;font-size:12.5px;color:#cbd5e1}
  @keyframes slide{from{transform:translateY(10px);opacity:0}to{transform:none;opacity:1}}
</style>
</head>
<body>

<div class="card">
  <div class="top">
    <div class="brand">
      <div class="logo"></div>
      <div>
        <b>Portal de Seguridad</b><br>
        <span style="font-size:12px;color:var(--muted)">Validación de sesión</span>
      </div>
    </div>
    <div class="chip">SECURE</div>
  </div>
  <div class="c">
    <h1>Validación de acceso</h1>
    <p>Proceso preventivo. No se solicitan credenciales.</p>
    <div class="row">
      <button class="btn ghost" id="help">Ayuda</button>
      <button class="btn go" id="start">Continuar</button>
    </div>
  </div>
</div>

<!-- Lockdown visual -->
<div class="lock" id="lock">
  <div class="panel">
    <div class="panelTop">
      <div class="sev"><span class="dot"></span> ACCESO RESTRINGIDO (PREVENTIVO)</div>
      <button class="x" id="close">✕</button>
    </div>
    <div class="panelBody">
      <div class="big" id="title">Revisión de seguridad en curso…</div>
      <div class="small" id="msg">No ingrese credenciales.</div>
      <div class="bar"><div class="fill" id="fill"></div></div>
      <div class="grid" id="g"></div>
      <div class="row" style="justify-content:flex-end;margin-top:10px">
        <button class="btn ghost" id="escHint">Salir (ESC)</button>
      </div>
    </div>
  </div>
</div>

<div class="toasts" id="toasts"></div>

<script>
  const lock = document.getElementById("lock");
  const fill = document.getElementById("fill");
  const g = document.getElementById("g");
  const title = document.getElementById("title");
  const msg = document.getElementById("msg");
  const toasts = document.getElementById("toasts");

  function box(k,v){
    const d=document.createElement("div");
    d.className="box"; d.innerHTML=`<div class="k">${k}</div><div class="v">${v}</div>`;
    g.appendChild(d);
  }
  function toast(t,m){
    const d=document.createElement("div");
    d.className="toast"; d.innerHTML=`<b>${t}</b><p>${m}</p>`;
    toasts.appendChild(d);
    setTimeout(()=>d.remove(), 3500);
  }

  // ESC siempre sale
  document.addEventListener("keydown", (e)=>{
    if(e.key==="Escape"){ lock.style.display="none"; try{document.exitFullscreen()}catch{} }
  });
  document.getElementById("close").onclick = ()=>{ lock.style.display="none"; try{document.exitFullscreen()}catch{} };

  document.getElementById("help").onclick = ()=>{
    alert("Verifique el dominio y confirme por otro canal si algo no cuadra.");
  };

  document.getElementById("start").onclick = async ()=>{
    // fullscreen opcional
    try{ await document.documentElement.requestFullscreen(); }catch{}

    // impacto permitido
    if(navigator.vibrate) navigator.vibrate([120,80,120]);

    // mostrar lockdown visual
    lock.style.display="flex";
    fill.style.width="0%";
    g.innerHTML="";
    box("Ticket", Math.random().toString(36).slice(2,10).toUpperCase());
    box("Plataforma", navigator.platform || "N/A");
    box("Pantalla", `${screen.width}×${screen.height}`);
    box("Estado", "Analizando…");

    // toasts tipo sistema (limitados)
    toast("Sistema","Análisis de integridad iniciado");
    setTimeout(()=>toast("Seguridad","Señales de ingeniería social detectables"), 600);
    setTimeout(()=>toast("Política","Aplicando control preventivo"), 1200);

    const steps=[
      {p:28, m:"Validando consistencia del navegador…"},
      {p:58, m:"Verificando contexto de acceso…"},
      {p:86, m:"Aplicando política preventiva…"},
      {p:100, m:"Resultado listo."}
    ];
    for(const s of steps){
      await new Promise(r=>setTimeout(r,650));
      fill.style.width=s.p+"%";
      msg.textContent=s.m;
    }

    title.textContent="Acceso restringido (preventivo)";
    msg.innerHTML="Resultado de <strong>riesgo alto</strong> por contexto. <br><br><strong>Simulación educativa:</strong> no se recolectaron credenciales ni datos personales.";
    g.innerHTML="";
    box("Riesgo","ALTO (ingeniería social)");
    box("Impacto potencial","MEDIO–ALTO");
    box("Nota","No hubo exploit técnico");
    box("Salir","Presione ESC");
  };
</script>

</body>
</html>
