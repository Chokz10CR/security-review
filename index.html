<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Portal de Seguridad</title>
  <meta name="color-scheme" content="light dark"/>
  <style>
    :root{
      --bg:#f4f7fb; --card:#ffffff; --text:#0f172a; --muted:#475569; --muted2:#64748b;
      --border:#e2e8f0; --shadow:0 18px 50px rgba(2,6,23,.10);
      --brand:#0b4ea2; --brand2:#083b78; --danger:#b91c1c; --warn:#b45309; --ok:#15803d;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      --r:16px;
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg:#0b1220; --card:#0f172a; --text:#e5e7eb; --muted:#cbd5e1; --muted2:#94a3b8;
        --border:#223146; --shadow:0 22px 60px rgba(0,0,0,.35);
        --brand:#3b82f6; --brand2:#2563eb;
      }
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center; padding:22px;
      background:
        radial-gradient(1100px 700px at 20% 0%, rgba(11,78,162,.14), transparent 60%),
        radial-gradient(900px 600px at 90% 15%, rgba(185,28,28,.10), transparent 60%),
        var(--bg);
      font-family:var(--sans); color:var(--text);
    }
    .shell{width:min(980px,100%); display:grid; grid-template-columns: 1.25fr .75fr; gap:16px}
    @media(max-width:980px){.shell{grid-template-columns:1fr}}
    .panel{background:var(--card); border:1px solid var(--border); border-radius:var(--r); box-shadow:var(--shadow); overflow:hidden}
    .top{
      padding:18px 20px; border-bottom:1px solid var(--border);
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .brand{display:flex; align-items:center; gap:12px; min-width:0}
    .logo{
      width:40px;height:40px;border-radius:14px;
      background: linear-gradient(135deg,var(--brand),var(--brand2));
      box-shadow:0 14px 30px rgba(11,78,162,.20);
      flex:0 0 auto;
    }
    .brand b{display:block;font-size:14px;letter-spacing:.2px}
    .brand span{display:block;font-size:12px;color:var(--muted2); white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
    .chip{
      padding:7px 10px; border-radius:999px;
      border:1px solid rgba(11,78,162,.20); background:rgba(11,78,162,.08);
      color:var(--brand); font-weight:800; font-size:12px;
    }

    .content{padding:20px}
    h1{margin:0 0 8px 0; font-size:22px; letter-spacing:.2px}
    p{margin:10px 0; color:var(--muted); line-height:1.6; font-size:14.5px}

    .notice{
      border:1px solid rgba(185,28,28,.25);
      background: rgba(185,28,28,.06);
      border-radius:14px;
      padding:14px;
      margin:14px 0;
    }
    .notice b{display:flex; gap:10px; align-items:center; color:var(--danger)}
    .notice b i{
      width:22px;height:22px;border-radius:8px; display:grid; place-items:center;
      background: rgba(185,28,28,.14); border:1px solid rgba(185,28,28,.22);
      font-style:normal; font-weight:900;
    }
    .meta{
      display:flex; flex-wrap:wrap; gap:10px; margin-top:10px;
      font-family:var(--mono); font-size:12px; color:var(--muted2);
    }
    .meta span{padding:6px 8px; border:1px solid var(--border); border-radius:10px; background:rgba(148,163,184,.06)}
    .bar{
      height:10px; border-radius:999px; overflow:hidden;
      background:rgba(148,163,184,.18); border:1px solid rgba(148,163,184,.18);
      margin:14px 0;
    }
    .fill{height:100%; width:0%; background:linear-gradient(90deg, var(--brand), var(--warn), var(--danger)); transition:width .2s}
    .grid{display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:10px}
    @media(max-width:640px){.grid{grid-template-columns:1fr}}
    .box{border:1px solid var(--border); border-radius:14px; padding:12px; background:rgba(148,163,184,.06)}
    .k{font-size:12px; color:var(--muted2)}
    .v{margin-top:6px; font-size:13.5px; word-break:break-word; color:var(--text)}
    .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:flex-end; margin-top:14px}
    .btn{
      border:0; border-radius:12px; padding:11px 13px; cursor:pointer; font-weight:900; font-size:14px;
    }
    .primary{background:linear-gradient(180deg,var(--brand),var(--brand2)); color:#fff}
    .ghost{background:transparent; border:1px solid var(--border); color:var(--text)}
    .foot{
      padding:14px 20px; border-top:1px solid var(--border);
      color:var(--muted2); font-size:12px; display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
    }

    /* Overlay de “bloqueo preventivo” (visual, sin atrapar) */
    .overlay{
      position:fixed; inset:0; display:none; align-items:center; justify-content:center;
      background:rgba(2,6,23,.78); z-index:9999; padding:18px;
    }
    .modal{
      width:min(860px,96vw);
      background:var(--card);
      border:1px solid var(--border);
      border-radius:18px;
      box-shadow:0 30px 90px rgba(0,0,0,.55);
      overflow:hidden;
    }
    .modalTop{
      padding:16px 18px; border-bottom:1px solid var(--border);
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      background: linear-gradient(180deg, rgba(185,28,28,.12), transparent);
    }
    .modalTop .x{
      width:38px;height:38px;border-radius:12px; cursor:pointer;
      border:1px solid var(--border); background:transparent; color:var(--text); font-weight:900;
    }
    .modalBody{padding:18px}
    .sev{
      display:inline-flex; align-items:center; gap:8px;
      padding:7px 10px; border-radius:999px;
      border:1px solid rgba(185,28,28,.25); background:rgba(185,28,28,.08);
      color:var(--danger); font-weight:900; font-size:12px;
    }
    .sev .dot{width:8px;height:8px;border-radius:99px;background:var(--danger); box-shadow:0 0 0 3px rgba(185,28,28,.14)}
    .big{font-size:26px; margin:10px 0 8px 0; font-weight:900}
    .small{color:var(--muted); font-size:13px; line-height:1.55}
  </style>
</head>
<body>

<div class="shell">
  <!-- MAIN -->
  <div class="panel">
    <div class="top">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div style="min-width:0">
          <b>Portal de Seguridad</b>
          <span>Validación de sesión y prevención de fraude</span>
        </div>
      </div>
      <div class="chip">SECURE SESSION</div>
    </div>

    <div class="content" id="main">
      <h1>Validación de sesión</h1>
      <p>
        Para proteger su acceso, el sistema ejecutará una verificación breve de integridad.
        Este proceso no solicita credenciales.
      </p>

      <div class="notice">
        <b><i>!</i> Aviso preventivo</b>
        <p style="margin:8px 0 0 32px">
          Si este acceso proviene de un enlace no verificado, podría representar riesgo de ingeniería social.
        </p>
      </div>

      <div class="meta" id="meta"></div>

      <div class="bar"><div class="fill" id="fill"></div></div>

      <div class="grid" id="grid"></div>

      <div class="row">
        <button class="btn ghost" id="help">Centro de ayuda</button>
        <button class="btn primary" id="start">Continuar</button>
      </div>
    </div>

    <div class="foot">
      <span>© Secure Services</span>
      <span>Política • Privacidad • Estado del servicio</span>
    </div>
  </div>

  <!-- SIDE -->
  <div class="panel">
    <div class="top">
      <div class="brand">
        <div style="min-width:0">
          <b>Detalles del entorno</b>
          <span>Información estándar del navegador</span>
        </div>
      </div>
      <div class="chip">INFO</div>
    </div>

    <div class="content">
      <p style="margin-top:0">
        Esto muestra datos genéricos que un sitio puede detectar sin permisos (no identifica a una persona).
      </p>
      <div class="grid" id="env"></div>
      <div class="divider"></div>
      <p class="small">
        Proyecto educativo de concientización. No se recolectan credenciales ni datos personales.
      </p>
    </div>
  </div>
</div>

<!-- Overlay tipo “bloqueo preventivo” (visual, salida clara) -->
<div class="overlay" id="ov">
  <div class="modal">
    <div class="modalTop">
      <div class="sev"><span class="dot"></span> ACCESO RESTRINGIDO</div>
      <button class="x" id="x">✕</button>
    </div>
    <div class="modalBody">
      <div class="big" id="ovTitle">Revisión de seguridad en curso…</div>
      <div class="small" id="ovMsg">No ingrese credenciales. Validando integridad de sesión.</div>

      <div class="bar" style="margin-top:14px"><div class="fill" id="ovFill"></div></div>

      <div class="grid" id="ovGrid" style="margin-top:10px"></div>

      <div class="row">
        <button class="btn ghost" id="why">¿Qué significa?</button>
        <button class="btn primary" id="ok">Entendido</button>
      </div>
    </div>
  </div>
</div>

<script>
  // Helpers
  const meta = document.getElementById("meta");
  const grid = document.getElementById("grid");
  const env = document.getElementById("env");

  const fill = document.getElementById("fill");
  const ov = document.getElementById("ov");
  const ovFill = document.getElementById("ovFill");
  const ovGrid = document.getElementById("ovGrid");
  const ovTitle = document.getElementById("ovTitle");
  const ovMsg = document.getElementById("ovMsg");

  function chip(txt){
    const s=document.createElement("span");
    s.textContent=txt;
    meta.appendChild(s);
  }
  function box(parent,k,v){
    const d=document.createElement("div");
    d.className="box";
    d.innerHTML=`<div class="k">${k}</div><div class="v">${v}</div>`;
    parent.appendChild(d);
  }

  // Reference/ticket
  const ticket = Math.random().toString(36).slice(2,10).toUpperCase();
  const now = new Date();
  const tz = Intl.DateTimeFormat().resolvedOptions().timeZone || "N/A";

  chip("TICKET: " + ticket);
  chip("HORA: " + now.toLocaleString());
  chip("ZONA: " + tz);

  // Main grid (copy serio)
  box(grid,"Estado","Pendiente de validación");
  box(grid,"Política","Prevención de fraude y suplantación");
  box(grid,"Acción","Revisión de integridad de sesión");
  box(grid,"Nota","No se solicitan credenciales");

  // Env panel (real data)
  box(env,"Idioma", navigator.language || "N/A");
  box(env,"Plataforma", navigator.platform || "N/A");
  box(env,"Pantalla", `${screen.width}×${screen.height}`);
  box(env,"Online", navigator.onLine ? "Sí" : "No");

  // Help button
  document.getElementById("help").onclick = ()=>{
    alert("Centro de ayuda: Verifique el dominio, evite enlaces urgentes y confirme por otro canal si algo no cuadra.");
  };

  // Close overlay
  document.getElementById("x").onclick = ()=> ov.style.display="none";
  document.getElementById("ok").onclick = ()=> ov.style.display="none";

  // Explanation
  document.getElementById("why").onclick = ()=>{
    ovGrid.innerHTML="";
    box(ovGrid,"Qué pasó","Este flujo simula un control preventivo (educativo).");
    box(ovGrid,"Por qué impacta","La apariencia legítima puede inducir confianza sin verificación.");
    box(ovGrid,"En un caso real","Podría derivar en phishing, suplantación o fraude.");
    box(ovGrid,"Importante","Aquí no se recolectan credenciales ni datos personales.");
  };

  // Main action: run “bank-like” flow
  document.getElementById("start").onclick = async ()=>{
    // Optional: vibration/sound allowed only after click (impact but safe)
    if(navigator.vibrate) navigator.vibrate([120,80,120]);

    // Show overlay
    ov.style.display="flex";
    ovFill.style.width="0%";

    ovTitle.textContent="Revisión de seguridad en curso…";
    ovMsg.textContent="No ingrese credenciales. Validando integridad de sesión.";
    ovGrid.innerHTML="";
    box(ovGrid,"Severidad","ALTA (por interacción)");
    box(ovGrid,"Motivo","Acceso desde enlace no verificado");
    box(ovGrid,"Ticket", ticket);
    box(ovGrid,"Estado","Analizando…");

    let p=0;
    const steps = [
      {p:28, msg:"Validando consistencia del navegador…"},
      {p:58, msg:"Verificando señales de ingeniería social…"},
      {p:86, msg:"Aplicando política preventiva…"},
      {p:100, msg:"Resultado listo."}
    ];

    for(const s of steps){
      await new Promise(r=>setTimeout(r,650));
      ovFill.style.width = s.p + "%";
      ovMsg.textContent = s.msg;
    }

    // Final screen (impactful but truthful)
    ovTitle.textContent="Acceso restringido (preventivo)";
    ovMsg.innerHTML = `
      Este resultado indica <strong>riesgo alto</strong> por contexto e interacción.
      <br><br>
      <strong>Importante:</strong> esta es una simulación educativa.
      No se solicitaron credenciales, no se recolectó información personal y no se realizó ningún acceso no autorizado.
    `;

    ovGrid.innerHTML="";
    box(ovGrid,"Riesgo estimado","ALTO (ingeniería social)");
    box(ovGrid,"Impacto potencial","MEDIO–ALTO");
    box(ovGrid,"Qué demuestra","No hace falta un exploit si el usuario confía sin verificar.");
    box(ovGrid,"Recomendación","Verifique dominio + confirme por otro canal.");
  };
</script>

</body>
</html>
